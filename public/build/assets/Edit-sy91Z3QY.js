import{i as A,r as n,o as _,c as F,w as s,a as r,b as m,d as h}from"./app-I_nywxil.js";import{A as V}from"./AdminLayout-ohe3ElHe.js";import{a as C,c as y,b,A as J}from"./AdminFormLayout-kcpKeHIz.js";import"./dropzone-Zgtom8eU.js";import{A as L}from"./AdminFormPageEditorJs-lfAWudqu.js";import{A as S}from"./AdminFormSelect-hT672IhQ.js";import{_ as E}from"./_plugin-vue_export-helper-x3n3nnut.js";const v={name:"Create",components:{AdminFormHeader:C,AdminFormSelect:S,AdminFormButton:y,AdminFormPageEditorJs:L,AdminFormInput:b,AdminFormLayout:J,AdminLayout:V,Link:A},props:["page","errors"],data(){return{editorError:!1,form:this.$inertia.form({id:this.page.data.id,title:this.page.data.title,content:this.page.data.content,slug:this.page.data.slug,path:this.page.data.path,code:this.page.data.code})}},methods:{async submitForm(){await this.update()},async getContentFromChildComponentEditorJs(d){const o=JSON.parse(JSON.stringify(d));this.form.content=o},update(){this.form.patch(route("admin.page.update",this.page.data.id))},generateSlug(){this.form.title.toLowerCase().trim().replace(/[^a-zа-я]/g,"-").replace(/-+/g,"-")}}},B={class:"grid gap-4 mb-4 sm:grid-cols-2"},w=m("option",{value:"200"},"Открытая страница",-1),I=m("option",{value:"404"},"Страница не найдена",-1),k=m("option",{value:"401"},"Требуется авторизация",-1);function x(d,o,N,U,t,a){const l=n("AdminFormHeader"),i=n("AdminFormInput"),p=n("AdminFormSelect"),u=n("AdminFormPageEditorJs"),c=n("AdminFormButton"),f=n("AdminFormLayout"),g=n("AdminLayout");return _(),F(g,null,{default:s(()=>[r(f,null,{default:s(()=>[r(l,{title:"Добавить страницу"}),m("form",{onSubmit:o[4]||(o[4]=h((...e)=>a.submitForm&&a.submitForm(...e),["prevent"]))},[r(i,{class:"mb-4",modelValue:t.form.title,"onUpdate:modelValue":o[0]||(o[0]=e=>t.form.title=e),error:t.form.errors.title,onInput:a.generateSlug,placeholder:"Заголовок страницы"},null,8,["modelValue","error","onInput"]),m("div",B,[r(i,{modelValue:t.form.slug,"onUpdate:modelValue":o[1]||(o[1]=e=>t.form.slug=e),error:t.form.errors.slug,placeholder:"slug"},null,8,["modelValue","error"]),r(i,{modelValue:t.form.path,"onUpdate:modelValue":o[2]||(o[2]=e=>t.form.path=e),error:t.form.errors.path,placeholder:"Путь"},null,8,["modelValue","error"])]),r(p,{modelValue:t.form.code,"onUpdate:modelValue":o[3]||(o[3]=e=>t.form.code=e)},{default:s(()=>[w,I,k]),_:1},8,["modelValue"]),r(u,{contentData:this.page.data.content,onGetContent:a.getContentFromChildComponentEditorJs,error:t.form.errors["content.blocks"],ref:"editorJsComponent"},null,8,["contentData","onGetContent","error"]),r(c,{type:"submit",title:"Обновить"})],32)]),_:1})]),_:1})}const j=E(v,[["render",x]]);export{j as default};
