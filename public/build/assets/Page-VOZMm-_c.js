import{i as N,bE as B,r as v,o as s,e as o,a as _,w as k,b as t,t as r,F as m,g,f as n,H as j,d as w,h as y,n as f,p as H,k as I}from"./app-I_nywxil.js";import{A as z}from"./AdminLayout-ohe3ElHe.js";import{F as E}from"./v3-lTg9QqWt.js";import{M as A}from"./MainNavbar-WBELQysF.js";import{C as F}from"./ClientFooterDown-VetkDHbG.js";import{s as P}from"./slugify-q-hKAA1Q.js";import{_ as V}from"./_plugin-vue_export-helper-x3n3nnut.js";const D={name:"Page",data(){return{blocks:this.blocksWithSlideNumber,userData:this.$page.props.auth.user,toggler:!1,editorImages:[],galleryImages:[],slide:1,pageNavs:this.getPageNavs,currentNavSection:null,scrollTop:!1,headerNavs:this.page.data.content.blocks.filter(i=>i.type==="header").map(i=>({id:i.id,text:i.data.text}))}},props:["page","mainSections","subSectionPages","breadcrumbs"],components:{ClientFooterDown:F,MainNavbar:A,AdminLayout:z,Link:N,FsLightbox:E,Head:B},methods:{textLimit(i,a){if(i.length>a){let u;return u=i.substring(0,a),u+"..."}return i},openEditorImagesOnSlide:function(i){this.slide=i,this.toggler=!this.toggler},isSameRoute(i){if(this.$page.props.ziggy.location===this.$page.props.ziggy.url+"/"+i)return!0},generateSlug:function(i){return P(i,{lower:!0,strict:!0,locale:"ru"})},onScroll(i){window.top.scrollY>100?this.scrollTop=!0:this.scrollTop=!1},scrollToTop(){window.scrollTo(0,0)}},mounted(){window.addEventListener("scroll",this.onScroll),this.editorImages=this.blocksWithSlideNumber.filter(x=>x.type==="image").map(x=>x.data.file.url);const i=document.querySelectorAll("h2"),a=document.querySelector("#visor");let u=null;window.addEventListener("scroll",()=>{for(let x=0;x<i.length;x++){const h=i[x],l=h.getBoundingClientRect(),b=a.getBoundingClientRect();if(l.top>=0&&l.bottom<=window.innerHeight&&l.bottom>=b.top&&l.top<=b.bottom){h!==u&&(this.currentNavSection=h.id,u=h);break}}})},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("scroll",this.onScroll)},computed:{blocksWithSlideNumber(){let i=1;return this.page.data.content.blocks.map(a=>(a.type==="image"&&(a.slideNumber=i,i++),a))}}},c=i=>(H("data-v-94c6444a"),i=i(),I(),i),R=c(()=>t("meta",{name:"description",content:"Your page description"},null,-1)),W=c(()=>t("div",{class:"w-full h-[67px] fixed",id:"visor"},null,-1)),O={class:"relative mx-auto mt-[67px] max-w-screen-xl px-4 py-10 md:flex md:flex-row md:py-10"},q={class:"sticky top-[121px] hidden h-[calc(100vh-121px)] max-w-[20%] md:flex md:shrink-0 md:flex-col md:justify-between"},Y={key:0,class:"styled-scrollbar flex h-[calc(100vh-200px)] flex-col overflow-y-scroll pr-2 pb-4"},Z={class:"text-gray-1000 mb-2 text-md font-medium"},G={class:"flex gap-x-1"},J={class:"px-0.5 last-of-type:mb-0 mb-8"},K={class:"my-1.5 flex"},Q=["href"],U={class:"order-last hidden w-56 shrink-0 lg:block"},X={key:0,class:"sticky top-[126px] h-[calc(100vh-121px)]"},$=c(()=>t("div",{class:"text-gray-1000 mb-2 text-md font-medium"},"На этой странице",-1)),tt={class:"styled-scrollbar max-h-[70vh] space-y-1.5 overflow-y-auto py-2 text-sm"},et={class:"anchor-li"},st=["href"],ot=c(()=>t("button",{class:"bg-transperant text-gray-600 cursor-pointer hover:text-gray-900 duration-300 block px-2 leading-[1.6] rounded-md"},"К началу",-1)),it=c(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-[17px] text-gray-600"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),rt=[ot,it],at={class:"w-full min-w-0 mt-4 max-w-6xl px-1 md:px-6",style:{}},nt={class:"space-y-5 md:space-y-5"},lt={class:"flex justify-between pb-4 items-center mb-6"},dt={class:"flex w-full sm:items-center gap-x-5 sm:gap-x-3"},ct={class:"grow"},ht={class:"grid sm:flex sm:justify-between sm:items-center gap-2"},ut={key:0,class:"flex items-center whitespace-nowrap min-w-0","aria-label":"Breadcrumb"},mt=c(()=>t("li",{class:"text-sm"},[t("span",{class:"flex items-center text-gray-500 hover:text-blue-600"},[y(" Главная "),t("svg",{class:"flex-shrink-0 mx-3 overflow-visible h-2.5 w-2.5 text-gray-400",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M5 1L10.6869 7.16086C10.8637 7.35239 10.8637 7.64761 10.6869 7.83914L5 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])])],-1)),xt={class:"text-sm"},pt=c(()=>t("svg",{class:"flex-shrink-0 mx-3 overflow-visible h-2.5 w-2.5 text-gray-400",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M5 1L10.6869 7.16086C10.8637 7.35239 10.8637 7.64761 10.6869 7.83914L5 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),gt={class:"text-sm"},_t=c(()=>t("svg",{class:"flex-shrink-0 mx-3 overflow-visible h-2.5 w-2.5 text-gray-400",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M5 1L10.6869 7.16086C10.8637 7.35239 10.8637 7.64761 10.6869 7.83914L5 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),ft={class:"text-sm"},vt={key:1,class:"flex items-center whitespace-nowrap min-w-0","aria-label":"Breadcrumb"},wt=c(()=>t("li",{class:"text-sm"},[t("span",{class:"flex items-center text-gray-500 hover:text-blue-600",href:"/"},[y(" Главная "),t("svg",{class:"flex-shrink-0 mx-3 overflow-visible h-2.5 w-2.5 text-gray-400",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M5 1L10.6869 7.16086C10.8637 7.35239 10.8637 7.64761 10.6869 7.83914L5 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])])],-1)),yt={class:"text-sm"},bt={class:"space-y-3"},kt={class:"text-2xl font-bold md:text-3xl"},Lt={id:"scrollspy",class:"space-y-5 md:space-y-5"},St={key:0},Ct=["onClick","src","alt"],Mt={class:"mt-3 text-sm text-center text-gray-500"},Tt={key:1},Nt=["id"],Bt={key:2},jt=["innerHTML"],Ht={key:3},It=["innerHTML"],zt={key:4},Et={class:"flex border rounded-lg px-4 py-2 items-center justify-between"},At={class:"flex items-center"},Ft=c(()=>t("div",{class:"w-[35px] h-[35px] bg-black flex justify-center items-center rounded-xl mr-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13",stroke:"white"})])],-1)),Pt=["href"],Vt=c(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1)),Dt=[Vt],Rt={key:5},Wt={key:0,class:"w-full mx-auto"},Ot=["href"],qt=c(()=>t("div",{class:"flex-shrink-0 relative w-full rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]"},null,-1)),Yt={class:"absolute top-0 inset-x-0 z-10"},Zt={class:"p-4 flex flex-col h-full sm:p-6"},Gt={class:"flex items-center"},Jt={class:"ms-2.5 sm:ms-4"},Kt={class:"font-semibold text-white"},Qt={class:"text-xs text-white/[.8]"},Ut={class:"absolute bottom-0 inset-x-0 z-10"},Xt={class:"flex flex-col h-full p-4 sm:p-6"},$t={class:"text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]"},te={class:"mt-2 text-white/[.8]"},ee={key:1,class:"flex flex-col rounded-xl p-4 md:p-6 bg-white border border-gray-200 dark:bg-slate-900 dark:border-gray-700"},se={class:"flex items-center gap-x-4"},oe=["src"],ie={class:"grow"},re={class:"text-xs text-gray-500 mt-2"},ae={class:"text-xs text-gray-500 mt-2"},ne={key:6,class:"flex gap-x-5 justify-between"},le={key:0,class:"gap-5"},de={key:0},ce=["onClick","src","alt"],he={class:"mt-3 text-sm text-center text-gray-500"},ue={key:1},me=["id"],xe={key:2},pe=["innerHTML"],ge={key:3},_e=["innerHTML"],fe={key:4},ve={class:"flex border rounded-lg px-4 py-2 items-center justify-between"},we={class:"flex items-center"},ye=c(()=>t("div",{class:"w-[35px] h-[35px] bg-black flex justify-center items-center rounded-xl mr-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13",stroke:"white"})])],-1)),be=["href"],ke=c(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1)),Le=[ke];function Se(i,a,u,x,h,l){const b=v("Head"),S=v("MainNavbar"),C=v("Link"),M=v("ClientFooterDown"),T=v("FsLightbox");return s(),o(m,null,[_(b,null,{default:k(()=>[t("title",null,r(u.page.data.title),1),R]),_:1}),_(S,{class:"border-b",sections:this.mainSections},null,8,["sections"]),W,t("div",O,[t("div",q,[this.subSectionPages?(s(),o("nav",Y,[t("div",Z,r(u.page.data.section),1),t("div",G,[t("ul",J,[(s(!0),o(m,null,g(this.subSectionPages.data,e=>(s(),o("li",K,[t("a",{class:f([{"text-white hover:text-gray-200 font-semibold bg-[#135aae]":l.isSameRoute(e.path),"text-gray-600 hover:text-[#2C6288]":!l.isSameRoute(e.path)},"relative duration-300 flex w-full rounded-md cursor-pointer items-centerp px-2 py-1 text-left text-sm"]),href:i.route("page.view",e.path)+"/"},r(e.title),11,Q)]))),256))])])])):n("",!0)]),t("nav",U,[h.headerNavs.length>0?(s(),o("div",X,[$,t("ul",tt,[(s(!0),o(m,null,g(h.headerNavs,e=>(s(),o("li",et,[t("a",{class:f([{"translate-x-2 text-[#135aae]":h.currentNavSection===l.generateSlug(e.text),"bg-transperant text-gray-600 hover:text-gray-900":h.currentNavSection!==l.generateSlug(e.text)},"duration-150 block py-1 px-2 leading-[1.6] rounded-md"]),href:"#"+l.generateSlug(e.text)},r(e.text),11,st)]))),256)),_(j,{name:"fade"},{default:k(()=>[h.scrollTop?(s(),o("li",{key:0,class:"anchor-li flex items-center py-2 border-t",onClick:a[0]||(a[0]=w((...e)=>l.scrollToTop&&l.scrollToTop(...e),["prevent"]))},rt)):n("",!0)]),_:1})])])):n("",!0)]),t("article",at,[t("div",nt,[t("div",lt,[t("div",dt,[t("div",ct,[t("div",ht,[u.breadcrumbs?(s(),o("ol",ut,[mt,t("li",xt,[t("span",{class:"flex items-center text-gray-500 hover:text-blue-600",onClick:a[1]||(a[1]=w(()=>{},["prevent"]))},[y(r(this.breadcrumbs.mainSection)+" ",1),pt])]),t("li",gt,[t("span",{class:"flex items-center text-gray-500 hover:text-blue-600",onClick:a[2]||(a[2]=w(()=>{},["prevent"]))},[y(r(this.breadcrumbs.subSection)+" ",1),_t])]),t("li",ft,[t("span",{class:"flex items-center text-gray-500 hover:text-blue-600",onClick:a[3]||(a[3]=w(()=>{},["prevent"]))},r(this.breadcrumbs.page),1)])])):n("",!0),u.breadcrumbs?n("",!0):(s(),o("ol",vt,[wt,t("li",yt,[t("span",{class:"flex items-center text-gray-500 hover:text-blue-600",onClick:a[4]||(a[4]=w(()=>{},["prevent"]))},r(this.page.data.title),1)])]))])])])]),t("div",bt,[t("h1",kt,r(u.page.data.title),1)]),t("div",Lt,[(s(!0),o(m,null,g(l.blocksWithSlideNumber,e=>(s(),o(m,null,[e.type==="image"?(s(),o("div",St,[t("figure",{class:f(e.data.withBackground?"bg-gray-100 rounded-lg":"")},[t("img",{loading:"lazy",onClick:p=>l.openEditorImagesOnSlide(e.slideNumber),src:e.data.file.url,class:f([e.data.withBackground?"rounded-none":"w-full","mx-auto max-h-[350px] object-cover rounded-lg hover:opacity-95 hover:duration-200 transition"]),alt:e.data.caption},null,10,Ct),t("figcaption",Mt,r(e.data.caption),1)],2)])):n("",!0),e.type==="header"?(s(),o("div",Tt,[t("h2",{id:l.generateSlug(e.data.text),class:"font-bold text-xl mt-10"},r(e.data.text),9,Nt)])):n("",!0),e.type==="paragraph"?(s(),o("div",Bt,[t("p",{innerHTML:e.data.text,class:"text-[16px] text-gray-700 leading-7"},null,8,jt)])):n("",!0),e.type==="list"?(s(),o("div",Ht,[t("ul",{class:f(["list-outside",{"list-disc":e.data.style==="unordered"}])},[(s(!0),o(m,null,g(e.data.items,p=>(s(),o("li",{class:"ml-5 text-[16px] mt-2 text-gray-700 leading-7 smooth-emerging",innerHTML:p},null,8,It))),256))],2)])):n("",!0),e.type==="attaches"?(s(),o("div",zt,[t("div",Et,[t("div",At,[Ft,t("div",null,r(e.data.title),1)]),t("a",{href:e.data.file.url,download:"",type:"button",class:"w-[35px] h-[35px] flex bg-gray-100 rounded-lg justify-center items-center hover:bg-gray-200 duration-200"},Dt,8,Pt)])])):n("",!0),e.type==="linkTool"?(s(),o("div",Rt,[e.data.meta.type==="post"?(s(),o("div",Wt,[t("a",{class:"group relative block rounded-xl dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600",href:e.data.link},[qt,t("div",Yt,[t("div",Zt,[t("div",Gt,[t("div",Jt,[t("h4",Kt,r(e.data.meta.data.authors[0].name),1),t("p",Qt,r(e.data.meta.data.created_post),1)])])])]),t("div",Ut,[t("div",Xt,[t("h3",$t,r(e.data.meta.data.title),1),t("p",te,r(l.textLimit(e.data.meta.description,200)),1)])])],8,Ot)])):n("",!0),e.data.meta.type==="person"?(s(),o("div",ee,[t("div",se,[t("img",{loading:"lazy",class:"rounded-xl w-[150px]",src:e.data.meta.data.photo,alt:"Image Description"},null,8,oe),t("div",ie,[_(C,{href:e.data.link,class:"font-medium text-gray-800 hover:text-gray-500 underline"},{default:k(()=>[y(r(e.data.meta.title),1)]),_:2},1032,["href"]),t("p",re,r(e.data.meta.data.administrativePosition)+" / "+r(e.data.meta.data.educatorPosition),1),t("p",ae,r(e.data.meta.data.contactPhone)+" / "+r(e.data.meta.data.contactEmail),1)])])])):n("",!0)])):n("",!0),e.type==="columns"?(s(),o("div",ne,[(s(!0),o(m,null,g(e.data.cols,p=>(s(),o("div",{class:"w-1/2",key:p.time},[p.blocks&&p.blocks.length>0?(s(),o("div",le,[(s(!0),o(m,null,g(p.blocks,d=>(s(),o("div",{key:d.id},[d.type==="image"?(s(),o("div",de,[t("figure",null,[t("img",{loading:"lazy",onClick:L=>l.openEditorImagesOnSlide(d.slideNumber),src:d.data.file.url,class:"w-full h-[300px] object-cover rounded-xl hover:opacity-95 hover:duration-200 transition",alt:d.data.caption},null,8,ce),t("figcaption",he,r(d.data.caption),1)])])):n("",!0),d.type==="header"?(s(),o("div",ue,[t("h2",{id:"header_"+d.id,class:"font-bold text-xl mt-10"},r(d.data.text),9,me)])):n("",!0),d.type==="paragraph"?(s(),o("div",xe,[t("p",{innerHTML:d.data.text,class:"text-[16px] text-gray-700 leading-relaxed"},null,8,pe)])):n("",!0),d.type==="list"?(s(),o("div",ge,[t("ul",{class:f(["list-outside",{"list-disc":d.data.style==="unordered"}])},[(s(!0),o(m,null,g(d.data.items,L=>(s(),o("li",{class:"ml-5 text-[16px] text-gray-700 leading-loose",innerHTML:L},null,8,_e))),256))],2)])):n("",!0),d.type==="attaches"?(s(),o("div",fe,[t("div",ve,[t("div",we,[ye,t("div",null,r(d.data.title),1)]),t("a",{href:d.data.file.url,download:"",type:"button",class:"w-[35px] h-[35px] flex bg-gray-100 rounded-lg justify-center items-center hover:bg-gray-200 duration-200"},Le,8,be)])])):n("",!0)]))),128))])):n("",!0)]))),128))])):n("",!0)],64))),256))])])])]),_(M),_(T,{class:"z-1000",slide:h.slide,toggler:h.toggler,sources:h.editorImages},null,8,["slide","toggler","sources"])],64)}const Ie=V(D,[["render",Se],["__scopeId","data-v-94c6444a"]]);export{Ie as default};
