import{i as F,r as n,o as _,c as g,w as i,a as t,b as m,d as h}from"./app-I_nywxil.js";import{A as V}from"./AdminLayout-ohe3ElHe.js";import{A as C,a as y,c as b,b as J}from"./AdminFormLayout-kcpKeHIz.js";import{s as S}from"./slugify-q-hKAA1Q.js";import{A as E}from"./AdminFormPageEditorJs-lfAWudqu.js";import{A as L}from"./AdminFormSelect-hT672IhQ.js";import{A as v}from"./AdminFormEditorJs-UKK3BIIw.js";import{_ as B}from"./_plugin-vue_export-helper-x3n3nnut.js";const w={name:"Create",components:{AdminFormLayout:C,AdminFormHeader:y,AdminFormEditorJs:v,AdminFormPageEditorJs:E,AdminFormButton:b,AdminFormSelect:L,AdminFormInput:J,AdminLayout:V,Link:F},props:["errors"],data(){return{editorError:!1,form:this.$inertia.form({title:null,content:null,slug:null,path:null,code:200})}},methods:{async submitForm(){await this.store()},store(){this.form.post(route("admin.page.store"))},async getContentFromChildComponentEditorJs(d){const o=JSON.parse(JSON.stringify(d));this.form.content=o},generateSlug:function(){this.form.slug=S(this.form.title,{lower:!0,strict:!0,locale:"ru"}),this.form.path=this.form.slug}}},I={class:"grid gap-4 mb-4 sm:grid-cols-2"},k=m("option",{value:"200"},"Открытая страница",-1),x=m("option",{value:"404"},"Страница не найдена",-1),N=m("option",{value:"401"},"Требуется авторизация",-1);function U(d,o,H,P,r,s){const u=n("AdminFormHeader"),l=n("AdminFormInput"),a=n("AdminFormSelect"),p=n("AdminFormPageEditorJs"),f=n("AdminFormButton"),c=n("AdminFormLayout"),A=n("AdminLayout");return _(),g(A,null,{default:i(()=>[t(c,null,{default:i(()=>[t(u,{title:"Добавить страницу"}),m("form",{onSubmit:o[4]||(o[4]=h((...e)=>s.submitForm&&s.submitForm(...e),["prevent"]))},[t(l,{class:"mb-4",modelValue:r.form.title,"onUpdate:modelValue":o[0]||(o[0]=e=>r.form.title=e),error:r.form.errors.title,onInput:s.generateSlug,placeholder:"Заголовок страницы"},null,8,["modelValue","error","onInput"]),m("div",I,[t(l,{modelValue:r.form.slug,"onUpdate:modelValue":o[1]||(o[1]=e=>r.form.slug=e),error:r.form.errors.slug,placeholder:"slug"},null,8,["modelValue","error"]),t(l,{modelValue:r.form.path,"onUpdate:modelValue":o[2]||(o[2]=e=>r.form.path=e),error:r.form.errors.path,placeholder:"Путь"},null,8,["modelValue","error"])]),t(a,{modelValue:r.form.code,"onUpdate:modelValue":o[3]||(o[3]=e=>r.form.code=e)},{default:i(()=>[k,x,N]),_:1},8,["modelValue"]),t(p,{onGetContent:s.getContentFromChildComponentEditorJs,error:r.form.errors["content.blocks"],ref:"editorJsComponent"},null,8,["onGetContent","error"]),t(f,{type:"submit",title:"Добавить"})],32)]),_:1})]),_:1})}const Q=B(w,[["render",U]]);export{Q as default};
