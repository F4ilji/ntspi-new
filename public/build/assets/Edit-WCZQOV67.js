import{i as c,r as n,o as h,c as A,w as l,a as t,b as i,m as _,d as g}from"./app-I_nywxil.js";import{A as V}from"./AdminLayout-ohe3ElHe.js";import{a as F,c as b,b as y,A as v,v as x,d as L,e as B,f as T,P as U}from"./AdminFormLayout-kcpKeHIz.js";import"./text-variant-tune-3ztrwzKk.js";import{A as k}from"./AdminFormTextarea-ryGEBhB3.js";import{_ as w}from"./_plugin-vue_export-helper-x3n3nnut.js";const E={name:"Create",components:{AdminFormHeader:F,AdminFormButton:b,AdminFormTextarea:k,AdminFormInput:y,AdminFormLayout:v,AdminLayout:V,Link:c},props:["errors","categories","post"],data(){return{editorError:!1,form:this.$inertia.form({title:this.post.data.title,content:null,category_id:this.post.data.category_id||"",author:this.post.data.authors[0].name})}},methods:{update(){this.form.patch(route("admin.post.update",this.post.data.id))},saveEditor(){this.editor.save().then(m=>{this.form.content=m,this.update()}).catch(m=>{console.log("Saving failed: ",m)})}},mounted(){this.editor=new x({holder:this.$refs.editor,data:JSON.parse(this.post.data.content),minHeight:150,placeholder:"Заполните новость",tools:{header:{class:L,inlineToolbar:["link"]},list:{class:B,inlineToolbar:["link","bold"]},attaches:{class:T,config:{endpoint:"/upload-file"}},image:{class:U,config:{endpoints:{byFile:"/upload-image"}}}}})},beforeUnmount(){this.editor.destroy()}},H={class:"grid gap-4 mb-4 sm:grid-cols-2"},C={class:"grid gap-4 mb-4 sm:grid-cols-2"};function I(m,e,N,S,o,P){const a=n("AdminFormHeader"),s=n("AdminFormInput"),d=n("AdminFormTextarea"),p=n("AdminFormButton"),u=n("AdminFormLayout"),f=n("AdminLayout");return h(),A(f,null,{default:l(()=>[t(u,null,{default:l(()=>[t(a,{title:"Обновить вопрос абитуриента"}),i("form",{onSubmit:e[5]||(e[5]=g((...r)=>m.submit&&m.submit(...r),["prevent"]))},[i("div",H,[t(s,{modelValue:o.form.first_name,"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.first_name=r),error:o.form.errors.first_name,placeholder:"Имя"},null,8,["modelValue","error"]),t(s,{modelValue:o.form.last_name,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.last_name=r),error:o.form.errors.last_name,placeholder:"Фамилия"},null,8,["modelValue","error"])]),i("div",C,[t(s,{modelValue:o.form.email,"onUpdate:modelValue":e[2]||(e[2]=r=>o.form.email=r),error:o.form.errors.email,placeholder:"Email"},null,8,["modelValue","error"]),t(s,{modelValue:o.form.phone,"onUpdate:modelValue":e[3]||(e[3]=r=>o.form.phone=r),error:o.form.errors.phone,placeholder:"Телефон"},null,8,["modelValue","error"])]),t(d,{modelValue:o.form.text,"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.text=r),error:o.form.errors.text,label:"Задать вопрос"},null,8,["modelValue","error"]),t(p,_(m.$attrs,{type:"submit",title:"Создать новость"}),null,16)],32)]),_:1})]),_:1})}const D=w(E,[["render",I]]);export{D as default};
